webpackJsonp([2],{"4Bly":function(t,e,a){"use strict";var i={name:"Lines",data:function(){return{}},methods:{getLine:function(t,e,a,i,n){console.log(e);var o="",r=this.$echarts.init(this.$refs.myEchartLine);r.clear();var l={};"1"==n?(o="日期 : {b}<br/>{a0} : {c0}次",l={name:""}):"2"==n?(o="日期 : {b}<br/>{a0} : {c0}次<br/>{a1} : {c1}%",l={type:"value",name:"点击率(%)",axisLabel:{formatter:"{value} %"}}):(o="日期 : {b}<br/>{a0} : {c0}次<br/>{a1} : {c1}次",l={name:""}),r.setOption({title:{text:i,left:"center"},color:["#5b9bd5","#ed7f34"],tooltip:{trigger:"axis",formatter:o,padding:10,axisPointer:{type:"cross"}},grid:{left:"2%",right:"3%",bottom:"5%",containLabel:!0},xAxis:[{type:"category",data:t,boundaryGap:!0,axisTick:{alignWithLabel:!0},axisLabel:{interval:0,rotate:45},nameGap:2}],legend:{itemGap:15,bottom:0,itemHeight:3,data:a},yAxis:[{type:"value",name:"次数（次）"},l],series:e}),setTimeout(function(){window.addEventListener("resize",function(){r.resize()})},500)}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lineBox"},[e("div",{ref:"myEchartLine",staticClass:"myEchartLine"})])},staticRenderFns:[]};var o=a("C7Lr")(i,n,!1,function(t){a("g4gb")},"data-v-717799dc",null);e.a=o.exports},X2Oc:function(t,e,a){"use strict";e.a=function(t){var e=String((new Date).getFullYear()),a=(new Date).getMonth()+1;if("1"===t)return new Date(e);if("2"===t)return new Date(e+"-"+a)},e.c=function(t,e){var a=String(e.getFullYear()),i=e.getMonth()+1;if(i=i>10?i:"0"+i,"1"===t)return a;if("2"===t)return a+"-"+i},e.b=function(t){var e=String(t.getFullYear()),a=t.getMonth()+1,i=t.getDay();return e+"年"+a+"月"+i+"日"}},g4gb:function(t,e){},nR1D:function(t,e){},wyV5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("A9zj"),n=a.n(i),o=a("X2Oc"),r=a("OOvn"),l=a("4Bly"),s=a("aA9S"),c=a.n(s),p={name:"HueweiTable",components:{pagination:a("+ThO").a},data:function(){return{tableData:[],loading:!1,pages:{page:1,size:10,total:0},form:{name:"",receiveTimes:""}}},methods:{onSubmit:function(){var t=this.form,e=t.receiveTimes;n()(t,["receiveTimes"]);e&&(this.form.startTime=e[0].split("-").join(""),this.form.endTime=e[1].split("-").join("")),this.pages.page=1,this.getXiaoMiTable()},resetForm:function(){this.form={name:"",receiveTimes:""},this.onSubmit()},changeSize:function(t){this.pages=t,this.pages.page=t.page+1,this.getXiaoMiTable()},getXiaoMiTable:function(t){var e=this,a=c()({},{page:this.pages.page,size:this.pages.size},this.form);Object(r.H)(a).then(function(t){0==t.subCode&&(e.tableData=t.data,e.pages=t.pageInfo)}).catch(function(t){})}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,size:"small",model:t.form}},[a("el-form-item",{attrs:{label:"服务号名称",prop:"name"}},[a("el-input",{attrs:{clearable:"",placeholder:"输入服务号名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"日期：",prop:"receiveTimes"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.form.receiveTimes,callback:function(e){t.$set(t.form,"receiveTimes",e)},expression:"form.receiveTimes"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit()}}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"from-button",on:{click:function(e){return t.resetForm()}}},[t._v("重置")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"20px"},attrs:{stripe:!0,data:t.tableData}},[a("el-table-column",{attrs:{prop:"serviceName",label:"服务号名称",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"menuExpo",label:"菜单曝光量",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"menuClick",label:"菜单点击量",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"menuDownload",label:"菜单-APP下载量",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"menuClickRate",label:"菜单点击率",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.menuClickRate+"%"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"btnExpo",label:"按钮曝光量",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"btnClick",label:"按钮点击量",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"btnDownload",label:"按钮-APP下载量",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"btnClickRate",label:"按钮点击率",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.btnClickRate+"%"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"日期",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(String(e.row.date).substring(0,4)+"-"+String(e.row.date).substring(4,6)+"-"+String(e.row.date).substring(6,8)))])]}}])})],1),t._v(" "),a("div",{staticClass:"merblock"},[a("pagination",{attrs:{page:t.pages.page-1,size:t.pages.size,total:t.pages.total},on:{getPaginationData:t.changeSize}})],1)],1)},staticRenderFns:[]},d=a("C7Lr")(p,m,!1,null,null,null).exports,u={name:"Huawei",components:{Lines:l.a,xiaomiTable:d},data:function(){return{apis:{},tipHidden:!1,update:" 年 月 日",chartShow:!0,tableShow:!1,optionArr:[],pickerMonthOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},pickerYearOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},showArr:{show1:!0,show2:!1},dataOptoinForm:{type:"1",name:"",monthData:Object(o.a)("2"),yearData:Object(o.a)("1"),dataType:"1"}}},created:function(){this.getNameList()},watch:{dataOptoinForm:{handler:function(){this.getHuaWeiChart()},deep:!0}},methods:{dataBtn:function(){this.chartShow=!0,this.tableShow=!1},tableBtn:function(){this.chartShow=!1,this.tableShow=!0,this.$refs.tableList.getXiaoMiTable()},getXiaoMiImportTime:function(){var t=this,e={companyCode:localStorage.getItem("companyCode")};queryXiaoMiImportTime(e).then(function(e){0==e.subCode&&(e.data?(t.tipHidden=!0,t.update=Object(o.b)(new Date(e.data.dataTime))):(t.tipHidden=!1,t.update=" 年 月 日"))})},handleClick:function(t,e){console.log(t,e)},getNameList:function(){var t=this;Object(r.y)({queryType:2}).then(function(e){0==e.subCode&&(t.optionArr=e.data,t.dataOptoinForm.name=e.data[0].value)}).catch(function(t){})},getHuaWeiChart:function(){var t=this,e=this.dataOptoinForm,a=e.monthData,i=e.yearData,l=n()(e,["monthData","yearData"]);"1"==this.dataOptoinForm.type?l.date=Object(o.c)("2",a):l.date=Object(o.c)("1",i),Object(r.G)(l).then(function(e){if(0==e.subCode){var a=e.data.series,i=e.data.xAxis.data;i=i.map(function(t){return t.replace(/-/g,"/")}),a.map(function(e){var a=t.dataOptoinForm.dataType;"3"==a||"2"==a?"3"==a&&"按钮点击量"==e.name||"2"==a&&"菜单点击量"==e.name?(e.type="bar",e.yAxisIndex=0,"1"==t.dataOptoinForm.type?e.barWidth=15:e.barWidth=30):(e.yAxisIndex=1,e.type="line"):(e.yAxisIndex=0,e.type="line")});var n=a.map(function(t){return{name:t.name}});n.map(function(t){t.icon="roundRect"});var o="",r="";switch(t.dataOptoinForm.dataType){case"1":o="服务号会话数据分析",r="3";break;case"2":o="服务号菜单点击数据分析",r="2";break;case"3":o="服务号按钮点击数据分析",r="2";break;case"4":o="APP下载量数据分析",r="3"}t.$nextTick(function(){t.$refs.lineChild.getLine(i,a,n,o,r)})}}).catch(function(t){})}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"zrLog"},[a("div",{staticClass:"zrContent"},[a("div",{staticClass:"zrBack"},[a("div",{staticClass:"zrPawTitle"},[t._v("小米终端      "),t.tipHidden?a("span",{staticClass:"tips"},[a("span",{staticClass:"tipred"},[t._v("注意：")]),t._v("运营数据最后更新日期为"),a("span",[t._v(t._s(t.update))])]):t._e()]),t._v(" "),a("div",{staticClass:"zrPawbtn"},[a("i",{staticClass:"el-icon-s-data icons",class:t.chartShow?"blueColor":"",on:{click:t.dataBtn}}),t._v(" "),a("i",{staticClass:"el-icon-s-operation icons",class:t.tableShow?"blueColor":"",on:{click:t.tableBtn}})])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.chartShow,expression:"chartShow"}],staticClass:"echart"},[a("el-form",{ref:"dataOptoinForm",staticClass:"demo-ruleForm",attrs:{inline:"",model:t.dataOptoinForm,"label-width":"100px"}},[a("el-form-item",[a("el-radio-group",{attrs:{size:"small"},model:{value:t.dataOptoinForm.type,callback:function(e){t.$set(t.dataOptoinForm,"type",e)},expression:"dataOptoinForm.type"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("月数据")]),t._v(" "),a("el-radio-button",{attrs:{label:"2"}},[t._v("年数据")])],1)],1),t._v(" "),a("br"),t._v(" "),a("el-form-item",[a("el-select",{attrs:{size:"small",filterable:"",clearable:"",placeholder:"请选择服务号名称"},model:{value:t.dataOptoinForm.name,callback:function(e){t.$set(t.dataOptoinForm,"name",e)},expression:"dataOptoinForm.name"}},t._l(t.optionArr,function(t,e){return a("el-option",{key:e,attrs:{label:t.key,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",[a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:"1"==t.dataOptoinForm.type,expression:"dataOptoinForm.type=='1'"}],attrs:{size:"small",type:"month",format:"yyyy年M月","picker-options":t.pickerMonthOptions,placeholder:"选择月"},model:{value:t.dataOptoinForm.monthData,callback:function(e){t.$set(t.dataOptoinForm,"monthData",e)},expression:"dataOptoinForm.monthData"}}),t._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:"2"==t.dataOptoinForm.type,expression:"dataOptoinForm.type=='2'"}],attrs:{size:"small",type:"year",format:"yyyy年","picker-options":t.pickerYearOptions,placeholder:"选择年"},model:{value:t.dataOptoinForm.yearData,callback:function(e){t.$set(t.dataOptoinForm,"yearData",e)},expression:"dataOptoinForm.yearData"}})],1),t._v(" "),a("el-form-item",[a("el-radio-group",{attrs:{size:"small"},model:{value:t.dataOptoinForm.dataType,callback:function(e){t.$set(t.dataOptoinForm,"dataType",e)},expression:"dataOptoinForm.dataType"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("会话曝光")]),t._v(" "),a("el-radio-button",{attrs:{label:"2"}},[t._v("菜单点击")]),t._v(" "),a("el-radio-button",{attrs:{label:"3"}},[t._v("按钮点击")]),t._v(" "),a("el-radio-button",{attrs:{label:"4"}},[t._v("APP下载")])],1)],1)],1),t._v(" "),a("Lines",{directives:[{name:"show",rawName:"v-show",value:t.showArr.show1,expression:"showArr.show1"}],ref:"lineChild"})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableShow,expression:"tableShow"}],staticClass:"etable"},[a("xiaomiTable",{ref:"tableList"})],1)])])},staticRenderFns:[]};var f=a("C7Lr")(u,b,!1,function(t){a("nR1D")},"data-v-959ca38c",null);e.default=f.exports}});