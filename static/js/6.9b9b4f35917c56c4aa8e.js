webpackJsonp([6],{YRJp:function(e,t){},sGlH:function(e,t){},x2li:function(e,t,a){"use strict";a("OOvn");var r={components:{exSlot:{functional:!0,props:{row:Object,render:Function,index:Number,column:{type:Object,default:null}},render:function(e,t){var a={row:t.props.row,index:t.props.index};return t.props.column&&(a.column=t.props.column),t.props.render(e,a)}}},data:function(){return{}},props:{tableData:{type:Array,default:function(){return[]}},tableList:{type:Array,default:function(){return[]}}},watch:{},computed:{},created:function(){},mounted:function(){},methods:{sortChange:function(e){var t=e.order?[{field:e.prop,direction:"ascending"==e.order?1:2,name:e.column.label}]:[];this.$emit("sortChange",t)},tableRowClassName:function(e){var t=e.row;e.rowIndex;return 3==t.operateType?"delete-row":""}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticClass:"errorTable",attrs:{"row-class-name":e.tableRowClassName,size:"medium",border:"",data:e.tableData},on:{"sort-change":e.sortChange}},[e._l(e.tableList,function(t,r){return a("el-table-column",{key:r,attrs:{"show-overflow-tooltip":"",sortable:t.sort,width:t.width,align:t.align,prop:t.prop,label:t.label},scopedSlots:e._u([{key:"default",fn:function(r){return[t.render?a("ex-slot",{attrs:{name:r.$index,render:t.render,row:r.row,index:r.$index,column:t}}):"el-tag"==t.type?a("el-tag",{attrs:{color:t.color,type:t.el_tag_type,effect:t.effect?t.effect:"light"}},[e._v(e._s(r.row[t.prop]?r.row[t.prop]:"-"))]):a("span",[e._v(e._s(r.row[t.prop]?r.row[t.prop]:"-"))])]}}],null,!0)})}),e._v(" "),e._t("default")],2)},staticRenderFns:[]};var o=a("C7Lr")(r,n,!1,function(e){a("YRJp")},"data-v-664ae97c",null);t.a=o.exports},xexv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),n=a.n(r),o=a("aA9S"),l=a.n(o),i=a("A9zj"),s=a.n(i),p=a("OOvn"),c=a("Ap6m"),d=a("+ThO"),u=a("x2li"),m={components:{searchForm:c.a,pagination:d.a,lxTable:u.a},data:function(){return{tableList:[{label:"公司名称",prop:"companyName",align:"center"},{label:"企业编码",prop:"companyCode",align:"center"},{label:"企业紧急联系人",prop:"merchantContact",align:"center"},{label:"企业紧急联系人方式",prop:"merchantTel",align:"center"},{label:"主账号（手机号）",prop:"mainAccount",align:"center"},{label:"主账号状态",prop:"mainAccountState",align:"center",render:function(e,t){return e("span",{style:{color:2!=t.row.mainAccountState?"red":"rgb(1, 128, 1)"},domProps:{innerHTML:0==t.row.mainAccountState?"待完善":1==t.row.mainAccountState?"待开通":2==t.row.mainAccountState?"正常使用":"停止使用"}})}},{label:"提交时间",prop:"operTime",align:"center",sort:"custom"}],errorTableVisible:!1,formOptions:[{label:"商家昵称",prop:"name",element:"el-input"},{label:"日期",prop:"publishTime",element:"el-date-picker",type:"daterange"}],seeShow:!1,addShow:!1,button_loading:!1,tableData:[],errorTableData:[],fileType:"2",modelForm:{noticeTitle:"",noticeContent:"",noticeType:"2",recipient:"1"},detailDate:{noticeTitle:"",noticeContent:"",noticeType:"1",recipient:"1"},pages:{page:1,size:10,total:0},searchForm:{},tableLoading:!1}},created:function(){this.getHuaweiList()},methods:{timeHandle:function(e){return e.substring(0,10).split("-").join("")},importData:function(){this.addShow=!0,this.fileType="2"},onSearch:function(e){var t=e.publishTime,a=s()(e,["publishTime"]);t&&(a.startTime=this.timeHandle(t[0]),a.endTime=this.timeHandle(t[1])),this.pages.page=1,this.searchForm=l()({},a),this.getHuaweiList()},beforeAvatarUpload:function(e){var t=e.size/1024/1024<50;return t?-1!=e.name.indexOf(".xls")||-1!=e.name.indexOf(".xlsx")?void 0:(this.$message.error("上传文件必须为Excel文件"),!1):(this.$message.error("文件上传大小不能超过 50MB!"),t)},changeFile:function(e,t){this.$refs.upload.clearFiles()},uploadFiles:function(e){var t=this,a=new FormData;a.append("file",e.file),a.append("queryType",this.fileType),a.append("subPage",1),a.append("subSize",30),Object(p.P)(a).then(function(e){0==e.subCode?(t.$message.success("上传成功"),t.addShow=!1):500==e.subCode?t.$message.error("上传失败"):412==e.subCode?t.$message.error(""+e.message):402==e.subCode&&t.$alert(""+e.message,"提示",{confirmButtonText:"查看错误数据",type:"error",callback:function(a){"confirm"==a&&(t.errorTableData=e.data.data,"2"==t.fileType?t.tableList=[{label:"行数",prop:"rowNumber",align:"center",render:function(e,t){return e("span",{domProps:{innerHTML:t.row.rowNumber}})}},{label:"日期",prop:"dataTime",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.dataTime.state},domProps:{innerHTML:t.row.dataTime.value.substring(0,10)}})}},{label:"行业",prop:"industry",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.industry.state},domProps:{innerHTML:t.row.industry.value},style:{textOverflow:"ellipsis",overflow:"hidden"}})}},{label:"商家",prop:"merchantName",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.merchantName.state},domProps:{innerHTML:t.row.merchantName.value},style:{textOverflow:"ellipsis",overflow:"hidden"}})}},{label:"所属域",prop:"locatedField",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.locatedField.state},style:{textOverflow:"ellipsis",overflow:"hidden"},domProps:{innerHTML:t.row.locatedField.value}})}},{label:"总开通服务号数",prop:"openServiceNum",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.openServiceNum.state},domProps:{innerHTML:t.row.openServiceNum.value}})}},{label:"总开通了菜单的服务号数",prop:"openMenuNum",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.openMenuNum.state},domProps:{innerHTML:t.row.openMenuNum.value}})}},{label:"总开通了主页的服务号数",prop:"openPageNum",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.openPageNum.state},domProps:{innerHTML:t.row.openPageNum.value}})}},{label:"主页日PV",prop:"pageDayPV",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.pageDayPV.state},domProps:{innerHTML:t.row.pageDayPV.value}})}},{label:"主页日UV",prop:"pageDayUV",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.pageDayUV.state},domProps:{innerHTML:t.row.pageDayUV.value}})}},{label:"主页快应用PV",prop:"pageQuickAppPV",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.pageQuickAppPV.state},domProps:{innerHTML:t.row.pageQuickAppPV.value}})}},{label:"主页快应用UV",prop:"pageQuickAppUV",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.pageQuickAppUV.state},domProps:{innerHTML:t.row.pageQuickAppUV.value}})}},{label:"会话PV",prop:"chatPV",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.chatPV.state},domProps:{innerHTML:t.row.chatPV.value}})}},{label:"会话UV",prop:"chatUV",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.chatUV.state},domProps:{innerHTML:t.row.chatUV.value}})}}]:t.tableList=[{label:"行数",prop:"rowNumber",align:"center",render:function(e,t){return e("span",{domProps:{innerHTML:t.row.rowNumber}})}},{label:"日期",prop:"dataTime",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.dataTime.state},domProps:{innerHTML:t.row.dataTime.value.substring(0,10)}})}},{label:"行业",prop:"industry",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.industry.state},domProps:{innerHTML:t.row.industry.value},style:{textOverflow:"ellipsis",overflow:"hidden"}})}},{label:"商家",prop:"merchantName",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.merchantName.state},domProps:{innerHTML:t.row.merchantName.value},style:{textOverflow:"ellipsis",overflow:"hidden"}})}},{label:"所属域",prop:"locatedField",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.locatedField.state},style:{textOverflow:"ellipsis",overflow:"hidden"},domProps:{innerHTML:t.row.locatedField.value}})}},{label:"点击量",prop:"totalClick",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.totalClick.state},domProps:{innerHTML:t.row.totalClick.value}})}}],t.errorTableVisible=!0)}})}).catch(function(e){t.$message.error(e.message+", 上传失败")})},getHuaweiList:function(){var e=this;this.tableLoading=!0;var t=l()({},{page:this.pages.page,size:this.pages.size},this.searchForm);Object(p.x)(n()({},t)).then(function(t){e.tableLoading=!1,0===t.subCode&&(e.tableData=t.data,e.pages=t.pageInfo)})},changeSize:function(e){this.pages=e,this.pages.page=e.page+1,this.getHuaweiList()}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"commonClass huawei"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("华为终端")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-top":"-6px"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.importData}},[e._v("数据导入")])],1),e._v(" "),a("div",{staticClass:"text item"},[a("searchForm",{attrs:{formOptions:e.formOptions},on:{onSearch:e.onSearch}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{size:"medium",border:"",data:e.tableData}},[a("el-table-column",{attrs:{align:"center",prop:"merchantName",label:"商家昵称","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.merchantName,placement:"top"}},[a("span",[e._v(e._s(t.row.merchantName.length>15?t.row.merchantName.substring(0,15)+"...":t.row.merchantName))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"industry",label:"行业"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.industry?t.row.industry:"-")+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"pageDayPV",label:"主页PV"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"pageDayUV",label:"主页UV"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"pageQuickAppPV",label:"主页快应用PV"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"pageQuickAppUV",label:"主页快应用UV"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"chatPV",label:"会话PV"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"chatUV",label:"会话UV"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"totalClick",label:"点击量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"date",label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(String(t.row.date).substring(0,4)+"-"+String(t.row.date).substring(4,6)+"-"+String(t.row.date).substring(6,8)))])]}}])})],1),e._v(" "),a("pagination",{attrs:{page:e.pages.page-1,size:e.pages.size,total:e.pages.total},on:{getPaginationData:e.changeSize}})],1),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"数据导入类型",visible:e.addShow,top:"15vh",width:"350px"},on:{"update:visible":function(t){e.addShow=t}}},[a("el-form",{ref:"form",attrs:{size:"medium",model:e.modelForm}},[a("el-form-item",[a("el-select",{staticClass:"width100",attrs:{onChange:"changeValue"},model:{value:e.fileType,callback:function(t){e.fileType=t},expression:"fileType"}},[a("el-option",{attrs:{label:"上传PV、UV数据",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"上传点击量数据",value:"1"}})],1)],1),e._v(" "),a("el-form-item",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"http-request":e.uploadFiles,action:"",accept:".xls,.xlsx","show-file-list":!1,"on-change":e.changeFile,"before-upload":e.beforeAvatarUpload}},[a("el-button",{staticStyle:{width:"120px"},attrs:{size:"small"}},[e._v("立即上传")])],1),e._v(" "),a("a",{staticStyle:{"margin-left":"30px"},attrs:{href:2==e.fileType?"/OperateService/operateManage/downloadTemplate/2":"/OperateService/operateManage/downloadTemplate/1"}},[a("i",{staticClass:"el-icon-download"}),e._v("下载模板")])],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"errorDialog",attrs:{title:"错误提示",visible:e.errorTableVisible,width:"1200px"},on:{"update:visible":function(t){e.errorTableVisible=t}}},[a("span",{staticStyle:{color:"#f00","line-height":"45px"}},[e._v("注意：页面只显示错误数据的前30条")]),e._v(" "),a("lxTable",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{tableData:e.errorTableData,tableList:e.tableList}})],1)],1)],1)},staticRenderFns:[]};var b=a("C7Lr")(m,g,!1,function(e){a("sGlH")},"data-v-52cd6733",null);t.default=b.exports}});