webpackJsonp([4],{SX3L:function(e,t){},YRJp:function(e,t){},x2li:function(e,t,a){"use strict";a("OOvn");var r={components:{exSlot:{functional:!0,props:{row:Object,render:Function,index:Number,column:{type:Object,default:null}},render:function(e,t){var a={row:t.props.row,index:t.props.index};return t.props.column&&(a.column=t.props.column),t.props.render(e,a)}}},data:function(){return{}},props:{tableData:{type:Array,default:function(){return[]}},tableList:{type:Array,default:function(){return[]}}},watch:{},computed:{},created:function(){},mounted:function(){},methods:{sortChange:function(e){var t=e.order?[{field:e.prop,direction:"ascending"==e.order?1:2,name:e.column.label}]:[];this.$emit("sortChange",t)},tableRowClassName:function(e){var t=e.row;e.rowIndex;return 3==t.operateType?"delete-row":""}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticClass:"errorTable",attrs:{"row-class-name":e.tableRowClassName,size:"medium",border:"",data:e.tableData},on:{"sort-change":e.sortChange}},[e._l(e.tableList,function(t,r){return a("el-table-column",{key:r,attrs:{"show-overflow-tooltip":"",sortable:t.sort,width:t.width,align:t.align,prop:t.prop,label:t.label},scopedSlots:e._u([{key:"default",fn:function(r){return[t.render?a("ex-slot",{attrs:{name:r.$index,render:t.render,row:r.row,index:r.$index,column:t}}):"el-tag"==t.type?a("el-tag",{attrs:{color:t.color,type:t.el_tag_type,effect:t.effect?t.effect:"light"}},[e._v(e._s(r.row[t.prop]?r.row[t.prop]:"-"))]):a("span",[e._v(e._s(r.row[t.prop]?r.row[t.prop]:"-"))])]}}],null,!0)})}),e._v(" "),e._t("default")],2)},staticRenderFns:[]};var o=a("C7Lr")(r,n,!1,function(e){a("YRJp")},"data-v-664ae97c",null);t.a=o.exports},xUp2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),n=a.n(r),o=a("aA9S"),l=a.n(o),i=a("A9zj"),s=a.n(i),c=a("OOvn"),p=a("Ap6m"),d=a("+ThO"),m=a("x2li"),u={components:{searchForm:p.a,pagination:d.a,lxTable:m.a},data:function(){return{tableList:[{label:"公司名称",prop:"companyName",align:"center"},{label:"企业编码",prop:"companyCode",align:"center"},{label:"企业紧急联系人",prop:"merchantContact",align:"center"},{label:"企业紧急联系人方式",prop:"merchantTel",align:"center"},{label:"主账号（手机号）",prop:"mainAccount",align:"center"},{label:"主账号状态",prop:"mainAccountState",align:"center",render:function(e,t){return e("span",{style:{color:2!=t.row.mainAccountState?"red":"rgb(1, 128, 1)"},domProps:{innerHTML:0==t.row.mainAccountState?"待完善":1==t.row.mainAccountState?"待开通":2==t.row.mainAccountState?"正常使用":"停止使用"}})}},{label:"提交时间",prop:"operTime",align:"center",sort:"custom"}],errorTableVisible:!1,errorTableData:[],formOptions:[{label:"服务号名称",prop:"name",element:"el-input"},{label:"日期",prop:"publishTime",element:"el-date-picker",type:"daterange"}],seeShow:!1,addShow:!1,button_loading:!1,tableData:[],modelForm:{noticeTitle:"",noticeContent:"",noticeType:"1",recipient:"1"},detailDate:{noticeTitle:"",noticeContent:"",noticeType:"1",recipient:"1"},pages:{page:1,size:10,total:0},searchForm:{},tableLoading:!1}},created:function(){this.getXiaomiList()},methods:{timeHandle:function(e){return e.substring(0,10).split("-").join("")},onSearch:function(e){var t=e.publishTime,a=s()(e,["publishTime"]);t&&(a.startTime=this.timeHandle(t[0]),a.endTime=this.timeHandle(t[1])),this.pages.page=1,this.searchForm=l()({},a),this.getXiaomiList()},beforeAvatarUpload:function(e){var t=e.size/1024/1024<50;return t?-1!=e.name.indexOf(".xls")||-1!=e.name.indexOf(".xlsx")?void 0:(this.$message.error("上传文件必须为Excel文件"),!1):(this.$message.error("文件上传大小不能超过 50MB!"),t)},changeFile:function(e,t){this.$refs.upload.clearFiles()},uploadFiles:function(e){var t=this,a=new FormData;a.append("file",e.file),a.append("subPage",1),a.append("subSize",30),Object(c.Q)(a).then(function(e){0==e.subCode?(t.$message.success("上传成功"),t.addShow=!1):500==e.subCode?t.$message.error("上传失败"):412==e.subCode?t.$message.error(""+e.message):402==e.subCode&&t.$alert(""+e.message,"提示",{confirmButtonText:"查看错误数据",type:"error",callback:function(a){"confirm"==a&&(t.errorTableData=e.data.data,t.tableList=[{label:"行数",prop:"rowNumber",align:"center",render:function(e,t){return e("span",{domProps:{innerHTML:t.row.rowNumber}})}},{label:"广告位名称",prop:"serviceName",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.serviceName.state},domProps:{innerHTML:t.row.serviceName.value},style:{textOverflow:"ellipsis",overflow:"hidden"}})}},{label:"日期",prop:"dataTime",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.dataTime.state},domProps:{innerHTML:t.row.dataTime.value&&null!=t.row.dataTime.value?t.row.dataTime.value.substring(0,10):""}})}},{label:"曝光量",prop:"expo",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.expo.state},domProps:{innerHTML:t.row.expo.value}})}},{label:"点击量",prop:"click",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.click.state},domProps:{innerHTML:t.row.click.value}})}},{label:"APP下载量",prop:"download",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.download.state},domProps:{innerHTML:t.row.download.value}})}},{label:"点击率",prop:"clickRate",align:"center",render:function(e,t){return e("span",{class:{redbg:2==t.row.clickRate.state},domProps:{innerHTML:t.row.clickRate.value}})}}],t.errorTableVisible=!0)}})}).catch(function(e){t.$message.error(e.message+", 上传失败")})},getXiaomiList:function(){var e=this;this.tableLoading=!0;var t=l()({},{page:this.pages.page,size:this.pages.size},this.searchForm);Object(c.H)(n()({},t)).then(function(t){e.tableLoading=!1,0===t.subCode&&(e.tableData=t.data,e.pages=t.pageInfo)})},changeSize:function(e){this.pages=e,this.pages.page=e.page+1,this.getXiaomiList()}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"commonClass xiaomi"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("小米终端")]),e._v(" "),a("div",{staticStyle:{float:"right","margin-right":"10px"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"http-request":e.uploadFiles,action:"",accept:".xls,.xlsx","show-file-list":!1,"on-change":e.changeFile,"before-upload":e.beforeAvatarUpload}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("数据导入")])],1),e._v(" "),a("a",{staticStyle:{"margin-left":"15px"},attrs:{href:"/OperateService/operateManage/downloadTemplate/3"}},[a("i",{staticClass:"el-icon-download"}),e._v("下载模板")])],1)]),e._v(" "),a("div",{staticClass:"text item"},[a("searchForm",{attrs:{formOptions:e.formOptions},on:{onSearch:e.onSearch}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{size:"medium",border:"",data:e.tableData}},[a("el-table-column",{attrs:{align:"center",prop:"serviceName",label:"服务号名称","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.serviceName,placement:"top"}},[a("span",[e._v(e._s(t.row.serviceName.length>15?t.row.serviceName.substring(0,15)+"...":t.row.serviceName))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"menuExpo",label:"菜单曝光量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"menuClick",label:"菜单点击量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"menuDownload",label:"菜单-APP下载量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"menuClickRate",label:"菜单点击率"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"btnExpo",label:"按钮曝光量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"btnClick",label:"按钮点击量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"btnDownload",label:"按钮-APP下载量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"btnClickRate",label:"按钮点击率"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"date",label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(String(t.row.date).substring(0,4)+"-"+String(t.row.date).substring(4,6)+"-"+String(t.row.date).substring(6,8)))])]}}])})],1),e._v(" "),a("pagination",{attrs:{page:e.pages.page-1,size:e.pages.size,total:e.pages.total},on:{getPaginationData:e.changeSize}})],1),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"发布公告",visible:e.addShow,top:"5vh",width:"630px"},on:{"update:visible":function(t){e.addShow=t}}},[a("el-form",{ref:"form",attrs:{size:"medium",model:e.modelForm,"label-width":"110px"}},[a("el-form-item",{attrs:{prop:"noticeTitle",label:"公告标题："}},[a("el-input",{attrs:{clearable:"",maxlength:"60",placeholder:"60个字符以内"},model:{value:e.modelForm.noticeTitle,callback:function(t){e.$set(e.modelForm,"noticeTitle","string"==typeof t?t.trim():t)},expression:"modelForm.noticeTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"noticeContent",label:"公告内容："}},[a("el-input",{attrs:{clearable:"",maxlength:"500",type:"textarea",rows:5,placeholder:"500个字符以内"},model:{value:e.modelForm.noticeContent,callback:function(t){e.$set(e.modelForm,"noticeContent","string"==typeof t?t.trim():t)},expression:"modelForm.noticeContent"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"noticeType",label:"公告类型："}},[a("el-select",{staticClass:"width100",attrs:{clearable:""},model:{value:e.modelForm.noticeType,callback:function(t){e.$set(e.modelForm,"noticeType",t)},expression:"modelForm.noticeType"}},[a("el-option",{attrs:{label:"行业新闻",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"系统升级",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"公告通知",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"remindType",label:"发送对象："}},[a("span",[e._v("全体EC用户")])])],1)],1),e._v(" "),a("el-dialog",{staticClass:"errorDialog",attrs:{title:"错误提示",visible:e.errorTableVisible,width:"1200px"},on:{"update:visible":function(t){e.errorTableVisible=t}}},[a("p",{staticStyle:{color:"#f00","line-height":"45px"}},[e._v("注意：页面只显示错误数据的前30条")]),e._v(" "),a("lxTable",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{tableData:e.errorTableData,tableList:e.tableList}})],1)],1)],1)},staticRenderFns:[]};var g=a("C7Lr")(u,b,!1,function(e){a("SX3L")},"data-v-a7210eb4",null);t.default=g.exports}});